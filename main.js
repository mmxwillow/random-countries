(()=>{"use strict";function e(e){let r=[];return Object.keys(e).forEach((n=>{r.push(e[n].name)})),r.toString()}function r(e){let r=[];return Object.keys(e).forEach((n=>{r.push(e[n])})),r.toString()}const n=document.querySelector(".container");function t(e,r){let n=Object.values(e)[0].toUpperCase(),t=Object.values(r)[0].toUpperCase(),o=0;return n>t?o=1:n<t&&(o=-1),o}const o=document.querySelector("select"),c=document.querySelector('input[type="number"]'),a=(document.querySelector("button"),document.querySelector("form")),i=document.querySelector(".container");Object.entries({AF:"Africa",AN:"Antarctica",AS:"Asia",EU:"Europe",NA:"North America",OC:"Ocenia",SA:"South America"}).forEach((e=>{const[r,n]=e,t=document.createElement("option");t.innerHTML=n,t.value=r,t.id=r,o.appendChild(t)})),a.addEventListener("submit",(a=>{a.preventDefault(),i.innerHTML="Loading...",async function(e,r){try{const n=await fetch("https://countries.trevorblades.com/",{mode:"cors",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:"query getCountries($code: ID!){\n            continent(code: $code){\n                countries{\n                    name, code\n                }\n            }\n          }",variables:{code:e}})}),t=await n.json();return document.querySelector(".error").innerHTML="",function(e,r){let n=[];if(e>r.length)n=[...r];else for(let t=0;t<e;t++){let e=Math.floor(Math.random()*(r.length-t));n.push(r[e]),r.push(r.splice(e,1)[0])}return n}(r,t.data.continent.countries)}catch(e){return document.querySelector(".error").innerHTML="There's been an error. Try again.",console.error(e),"There's been an error. Try again."}}(o.value,c.value).then((o=>{(async function(n){try{const t=await Promise.all(n.map((e=>fetch(`https://restcountries.com/v3.1/name/${e.name}`,{mode:"cors"})))),o=await Promise.all(t.map((e=>e.json()))),c=[];return o.forEach((n=>{var t;c.push({OfficialName:(t=n[0]).name.official,Capital:t.capital.toString().replaceAll(",",", "),Population:t.population,Currency:e(t.currencies).replaceAll(",",", "),Subregion:t.subregion,Languages:r(t.languages).replaceAll(",",", ")})})),document.querySelector(".error").innerHTML="",c}catch(e){return document.querySelector(".error").innerHTML="There's been an error, couldn't fetch details.",console.error(e),n}})(o).then((e=>{return r=e,n.innerHTML="",void r.sort(t).forEach((e=>{const r=document.createElement("div");r.className="card",Object.entries(e).forEach((e=>{const[n,t]=e,o=document.createElement("p"),c=document.createElement("p");o.className="key",c.className="value",o.innerHTML=n,c.innerHTML=t,r.appendChild(o),r.appendChild(c)})),n.appendChild(r)}));var r}))}))}))})();